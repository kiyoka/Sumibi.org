

        ANK 漢字変換エンジン Sumibi

                Design memo
          

1. Sumibi 完成イメージ

  - Emacs上で長い文章を一度に入力でき、すらすら文章が入力できる。
  - 続きの文章を入力した場合も、前後の文脈から最適な単語に変換される。

2. Sumibi 基本アイデア

  - 文節の特定をあきらめて人間が指定することで、変換制度をあげる
     (文節の特定は、いくらアルゴリズムを頑張っても限界がある)
  - 辞書の学習方法として、プレーンテキストのファイルをコーパスとする
  - ギガバイトクラスの辞書になってもOKとする。
  - ローマ字ではなく、ANK で入力しモードレスにする。(いつでも変換できる)

3. 対象ユーザー

  - Emacs を常用していて、ブラインドタッチができる人
  - 変換エンジンの文節判定ミスを許せない人
  - IM のモード切替えなしで変換したい人 ( yc.el ユーザー等 )
  - 普段、英文をたくさん書く人

4. Sumibi デザインポリシー

  - 最初にEmacs用のフロントエンドのみを考える
  - yc.el のように ankから漢字への変換をメインに考える
  - 文節の解析はやらない。ユーザーが指示する
    以下のような入力方法で文節の区切りを指示する
      /bunsetu no kugiri wo tyokusetu shiji suru
            ↓変換すると以下のようになる
      文節の区切りを直接指示する
    
5. 技術的なアイデア

  - 辞書の構築方法

    - 基本辞書として skk の辞書を使う
    - コーパスから、新しい単語(カタカナ語、英単語)を獲得する
    - コーパスに含まれる文脈から、隣接する単語の関連性から学習する
    - コーパスは品詞がかかれた特別なものではなく、一般的なテキストファイルやHTMLファイルを利用できるようにする
    - テキストファイルからの形態素解析はkakasi等の既存のソフトウェアを使う

  - 適切な単語の選択方法

    - 辞書からどの単語を選ぶかは文章に出現した単語間の関連性から判断する
    - 変換に利用する文脈は ANK 入力中の部分だけでなく、周囲の変換済み文字列も使用する


6. ユーザーインターフェースのドラフトアイデア

  - セパレータ
    - '/' から後ろだけを変換する
    - ' ' を文節の区切り文字とする
    - '  ' スペース二個を一つの ' ' スペースとする

  - 単語の属性指定
    - -xxxx で xxxx を平仮名とみなす
    - :xxxx で xxxx をカタカナとみなす
    - +xxxx で xxxx を漢字仮名交じりとみなす
    - !xxxx で xxxx をankのままで無変換とみなす
    - @xxxx で xxxx を全角とみなす
    - #xxxx で xxxx を数字とみなす

  - 単語の属性指定(オブジェクト思考言語風)
    - xxxx.h   で xxxx を平仮名とみなす
    - xxxx.k   で xxxx をカタカナとみなす
    - xxxx.j   で xxxx を漢字仮名交じりとみなす
    - xxxx.l   で xxxx をankのままで無変換とみなす
    - xxxx.L   で xxxx を全角とみなす
    - xxxx.num で xxxx を数字とみなす

  - C-j で直前までのわかち書きされた ANK文字列を一括変換する。

  ※ 入力例
      /watashi no namae ha nakano dehanai[C-j]
         ↓
      私の名前は中野ではない

      /iretate no otya[C-j]
         ↓
      煎れたてのお茶

      /!roman wo sonomama nyuuryoku suru
         ↓
      romanをそのまま入力する

      /hitotubun no space  wo nyuuryoku suru
         ↓
      一つ分のスペース を入力する

      /niwa ni niwa no niwatori to haniwa ga oitearu
         ↓
      庭に2羽の鶏と埴輪が置いてある


------------------------------------------------------------
Sumibi専門用語メモ

  炭火であぶる
    sumibi を使って文章を書く

  炭
    sumibi用辞書のこと
    sumiyaki というツールで鍛えることができる

  炭焼き
    sumiyaki というツールを使って、コーパスから
    辞書を鍛えること

  木材
    Internetにあるコーパスを木材という

  炭焼き職人
    sumiyaki に凝っている人


例文) 最近は Internet に良質の木材がころがっているので
      いい炭ができそうです。

[以上]


